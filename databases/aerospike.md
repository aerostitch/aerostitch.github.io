---
layout: page
categories: [databases, aerospike]
tags: [databases, aerospike]
title: Aerospike
---

## Sizing an aerospike cluster

Namespace settings:

 * `data-in-memory false` (means only the index part is stored in memory)
 * `replication-factor 2` (means that each object is present on 2 servers)

Aerospike size of an index in RAM for each object: `64 bytes` (=> 16,777,216 indexed objects per GB of RAM)

Let's say that your current average message size generated by your application is: `1500 bytes`

**RAM to disk ratio:** you can have `16,777,216 * 1500 = 25165824000` <=> 23.4 GB of disk per GB of RAM.

Now let's say that you want to keep 1 month of data in that and that you have about 160 million new records a day.
To round it up, your target number of records to keep on the servers will be: 5,000,000,000 records

**Conclusion:** For this cluster you will need:

 * `5,000,000,000 * 1500 * 2 = 13.6 TB` of disk
 * `5,000,000,000 * 64 * 2 = 596 GB` of RAM (just for aerospike, you'll need some space
left for the system and especially for the disk caches, so about 1/3rd more than that => 800GB of RAM)
